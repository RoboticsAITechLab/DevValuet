spring.datasource.url=jdbc:h2:file:./data/devvault-db
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# Hibernate / JPA
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Explicit dialect helps Hibernate start when JDBC metadata can't be read early
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Also set the standard Jakarta jdbc url so some Hibernate codepath can read it
jakarta.persistence.jdbc.url=${spring.datasource.url}

# Management / Actuator configuration
management.endpoints.web.base-path=/actuator
management.endpoints.web.exposure.include=health,info,metrics,loggers,env,beans
management.endpoint.health.show-details=when-authorized

# Simple security defaults for local/dev: update in production with vault/secret manager
spring.security.user.name=actuator
spring.security.user.password=change-me
spring.security.user.roles=ACTUATOR

# OpenAPI / Swagger UI
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
# Application specific
devvault.backup.allowed-base=${user.home}/devvault-backups
devvault.backup.token=change-me-please-replace-with-secret

# # Server
# server.port=8080
# spring.main.banner-mode=off

# NOTE: If you want to use SQLite instead of H2 for local persistence,
# replace the datasource URL and driver above and set a compatible
# Hibernate dialect. Hibernate does not ship an official SQLiteDialect;
# use a community dialect or keep H2 for development.
